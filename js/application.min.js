var jsonData;$(document).ready(function(){$.getJSON("participating-schools.json",function(t){jsonData=t}),$.ajax({url:"stateMaps.html",cache:!1}).done(function(t){$("#state").append(t)}),$(".state").on("click",function(){var a=this,e=a.id,n=$("#data"),l=$("#state"),o=$("#stateName"),i=$("#"+e+"-enlarge");i.removeClass("hide"),l.append(i),$("#dialog").on("click",function(){$("#dialog").removeClass("active"),$("#data").empty(),i.addClass("hide")}),$("#dialog").addClass("active"),jsonData[e].length>0?$.each(jsonData[e],function(t,a){var e="<span>"+a.schoolId+"</span>",l="<h2>"+a.schoolName+"</h2>",i="<p>"+a.schoolState+"</p>",s='<a href="'+a.schoolUrl+'" target="blank">'+a.schoolUrl+"</a>";n.append("<li>"+e+l+i+s+"</li>"),o.html(i)}):n.append("<li>no schools available.</li>"),t()}),$(".state").mouseenter(function(){var t=this,a=$("#counter"),e=t.id,n=jsonData[e].length,l="college",o=n;0==n&&(o="no",$(this).unbind("click")),1!=n&&(l+="s"),a.html(e+" has "+o+" "+l+".")}),$(".state").mouseleave(function(){{var t=$("#counter");$("#data li").length}t.html("")});var t=function(){$("#data li").mouseenter(function(){var t=$(this).index()+1;$("#colleges g").children().filter(function(){return $(this)[0].textContent==t}).attr("fill","#ffffff").prev().attr("fill","#1f4469")}),$("#data li").mouseleave(function(){$(this).index();$("#colleges g").children().attr("fill","#000000").prev().attr("fill","#FFFFFF")})}});